–û—Ç–ª–∏—á–Ω–æ! –í–æ—Ç –∏—Ç–æ–≥–æ–≤–∞—è, –≤—ã–≤–µ—Ä–µ–Ω–Ω–∞—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è README.md, –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∞—è –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç, CI/CD, –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π, —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—é –∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:

‚∏ª

üöÄ N8N Production Deploy ‚Äî Timeweb Cloud

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ–ø–ª–æ–π –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ N8N –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é Docker, Nginx, CI/CD (GitHub Actions) –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ auto-update —Å–∫—Ä–∏–ø—Ç–∞.

‚∏ª

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

N8N/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ deploy.yml               # CI/CD GitHub Actions: –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
‚îÇ
‚îú‚îÄ‚îÄ conf.d/
‚îÇ   ‚îî‚îÄ‚îÄ n8n.conf                 # NGINX –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∏ HTTPS
‚îÇ
‚îú‚îÄ‚îÄ .dockerignore               # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Docker
‚îú‚îÄ‚îÄ docker-compose.yml          # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è N8N + NGINX
‚îú‚îÄ‚îÄ nginx.conf                  # –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ nginx
‚îú‚îÄ‚îÄ Dockerfile                  # –ö–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–∑ n8n —Å Python
‚îú‚îÄ‚îÄ update-n8n.sh               # –°–∫—Ä–∏–ø—Ç —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ nightly-update-n8n.sh       # –°–∫—Ä–∏–ø—Ç –Ω–æ—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Ä–∞–∑ –≤ –º–µ—Å—è—Ü)
‚îî‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª



‚∏ª

‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç
	‚Ä¢	üõ† –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç N8N –ø—Ä–∏ –ø—É—à–µ –≤ GitHub
	‚Ä¢	üîÅ –û–±–Ω–æ–≤–ª—è–µ—Ç n8n –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏, –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—è –∫–∞—Å—Ç–æ–º–Ω—ã–π Docker –æ–±—Ä–∞–∑
	‚Ä¢	‚òÅÔ∏è –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ volume /root/n8n_data
	‚Ä¢	üïí –í—ã–ø–æ–ª–Ω—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–æ—á—å—é, —Ä–∞–∑ –≤ –º–µ—Å—è—Ü
	‚Ä¢	üîê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPS –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

‚∏ª

‚öôÔ∏è –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
	‚Ä¢	n8n: –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å (–ø–æ—Ä—Ç 5678)
	‚Ä¢	nginx: —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏ (80/443) + SSL + –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

‚∏ª

üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
	‚Ä¢	–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS (Let's Encrypt)
	‚Ä¢	Basic Auth
	‚Ä¢	SMTP –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ Gmail –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email
	‚Ä¢	–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–æ—á—å—é (03:00‚Äì03:59)
	‚Ä¢	–ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
	‚Ä¢	–§–∞–π–ª update.lock –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å auto-update

‚∏ª

üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (GitHub Actions)

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ –≤ main:
	1.	–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH
	2.	–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
	3.	–ë—ç–∫–∞–ø /root/n8n_data
	4.	–ó–∞–ø—É—Å–∫ update-n8n.sh
	5.	–ü—Ä–æ–≤–µ—Ä–∫–∞ nginx –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
	6.	–ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS-–¥–æ—Å—Ç—É–ø–∞

üîê SSH –¥–æ—Å—Ç—É–ø –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ GitHub Secrets:
SERVER_HOST, SERVER_USER, SSH_KEY

‚∏ª..

üê≥ Dockerfile (–∫–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–∑)

FROM n8nio/n8n:latest

USER root

RUN apk add --no-cache python3 py3-pip && \
    pip3 install --no-cache-dir requests pandas --break-system-packages && \
    ln -sf /usr/bin/python3 /usr/bin/python

USER node



‚∏ª

‚ôªÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

chmod +x update-n8n.sh
./update-n8n.sh

–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–æ—á—å—é

–§–∞–π–ª nightly-update-n8n.sh –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ cron:

crontab -e

5 3 1 * * /root/N8N/nightly-update-n8n.sh >> /var/log/n8n-nightly-update.log 2>&1

‚ö† –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è, –µ—Å–ª–∏:
	‚Ä¢	–í—Ä–µ–º—è ‚â† 03:00‚Äì03:59
	‚Ä¢	–°—É—â–µ—Å—Ç–≤—É–µ—Ç /root/n8n_data/update.lock

‚∏ª

üì¨ SMTP

Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Gmail:
	‚Ä¢	SMTP: smtp.gmail.com
	‚Ä¢	Email: —É—Ç–æ—á–Ω—è—Ç—å —É –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞
	‚Ä¢	–ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: —É—Ç–æ—á–Ω—è—Ç—å —É –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ 

‚∏ª

üóÇÔ∏è –ë—ç–∫–∞–ø—ã

–ü–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è:

/root/n8n_data_backup_YYYY-MM-DD



‚∏ª

üìÑ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

# –õ–æ–≥–∏
docker logs -f n8n_n8n_1
docker logs -f n8n_nginx_1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ nginx
docker exec n8n_nginx_1 nginx -t

# –í–µ—Ä—Å–∏—è n8n
docker exec -it n8n_n8n_1 n8n --version

# –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps -a



‚∏ª

üõ° –û—Ç–∫–∞—Ç –≤ —Å–ª—É—á–∞–µ —Å–±–æ—è

rm -rf /root/n8n_data
cp -r /root/n8n_data_backup_YYYY-MM-DD /root/n8n_data
docker-compose up -d



‚∏ª

üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

https://n8n.portalgm.ru

–õ–æ–≥–∏–Ω: —É—Ç–æ—á–Ω—è—Ç—å —É –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞
–ü–∞—Ä–æ–ª—å: —É—Ç–æ—á–Ω—è—Ç—å —É –æ—Ç–¥–µ–ª–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞



‚∏ª

üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å –Ω—É–ª—è

git clone https://github.com/girudomed/N8N.git ~/N8N
cd ~/N8N
docker-compose up --build -d



‚∏ª

‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
	‚Ä¢	Docker –∏ docker-compose
	‚Ä¢	–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã Let‚Äôs Encrypt
	‚Ä¢	–î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
	‚Ä¢	GitHub Actions —Å –¥–æ—Å—Ç—É–ø–æ–º –ø–æ SSH

‚∏ª

ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

–ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å:
	‚Ä¢	Telegram –æ–ø–æ–≤–µ—â–µ–Ω–∏—è
	‚Ä¢	PostgreSQL –ø–æ–¥–¥–µ—Ä–∂–∫—É
	‚Ä¢	Source Control —á–µ—Ä–µ–∑ n8n environments

‚∏ª

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è n8n –æ—Ç–¥–µ–ª–æ–º –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞
